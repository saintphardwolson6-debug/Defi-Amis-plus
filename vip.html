<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Devenir VIP ‚Äî D√©fi-Amis</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="page card">
    <h2>üëë Devenir VIP</h2>
    <p>Pour pouvoir <strong>cr√©er</strong> des d√©fis (mode Ami / Crush), deviens VIP :</p>

    <p><strong>Montant :</strong> 50 HTG</p>
    <p><strong>NatCash :</strong> 509 5586 5621</p>
    <p><strong>Support WhatsApp :</strong> <a href="https://wa.me/50936484174" target="_blank">+509 3648 4174</a></p>

    <label>Ton pr√©nom (pour recevoir l‚Äôacc√®s)</label>
    <input id="vipName" placeholder="Ex : Tchoulo">

    <label>Num√©ro transaction / r√©f√©rence</label>
    <input id="vipTxn" placeholder="Ex : TXN-20250812-001">

    <div class="row">
      <button id="btnRequest" class="btn primary">J'ai pay√© ‚Äî Demander VIP</button>
      <button class="btn ghost" onclick="location.href='index.html'">Retour</button>
    </div>

    <p class="muted">Apr√®s ta demande, l'administrateur pourra valider le paiement. Tu recevras l'acc√®s VIP (manuellement).</p>

    <div id="status" class="small muted"></div>
  </main>

  <script type="module">
    import { requestVip } from './app.js';
    document.getElementById('btnRequest').onclick = async () => {
      const name = document.getElementById('vipName').value.trim();
      const txn = document.getElementById('vipTxn').value.trim();
      if(!name || !txn) return alert('Remplis ton pr√©nom et la r√©f√©rence de transaction.');
      try{
        await requestVip(name, txn);
        document.getElementById('status').textContent = "‚úÖ Demande envoy√©e. L'administrateur va valider la transaction.";
      }catch(e){ alert('Erreur: '+e.message); }
    };
  </script>
</body>
</html>